/* 
 * Based on the Christmas lights with HTML, CSS, and JavaScript by Chinedu Daniel:
 * https://www.chinedudaniel.com/posts/2019/12/16/lets-build-christmas-lights-with-html-css-javascript
 * Adapted for responsive React/Vite app
 */

:root {
  --theme-color-one: #025ba0;
  --theme-color-two: #9bc72b;
  --theme-color-three: #f0c517;
  --theme-color-four: #bf1724;
  --theme-color-five: #5cc9f4;
  --theme-color-six: #f7891b;
  --theme-color-seven: #276617;
  --theme-color-eight: #c41681;
  --white: #fff;
  --black: #000;
  --grey: #999;
}

@keyframes light-up-theme-color-one {
  0% { box-shadow: 0 1px 10px 5px var(--theme-color-one); }
  25% { box-shadow: 0 1px 15px 5px var(--theme-color-one); }
  50% { box-shadow: 0 1px 20px 5px var(--theme-color-one); }
  75% { box-shadow: 0 1px 25px 5px var(--theme-color-one); }
  100% { box-shadow: none; }
}
@keyframes light-up-theme-color-two {
  0% { box-shadow: 0 1px 10px 5px var(--theme-color-two); }
  25% { box-shadow: 0 1px 15px 5px var(--theme-color-two); }
  50% { box-shadow: 0 1px 20px 5px var(--theme-color-two); }
  75% { box-shadow: 0 1px 25px 5px var(--theme-color-two); }
  100% { box-shadow: none; }
}
@keyframes light-up-theme-color-three {
  0% { box-shadow: 0 1px 10px 5px var(--theme-color-three); }
  25% { box-shadow: 0 1px 15px 5px var(--theme-color-three); }
  50% { box-shadow: 0 1px 20px 5px var(--theme-color-three); }
  75% { box-shadow: 0 1px 25px 5px var(--theme-color-three); }
  100% { box-shadow: none; }
}
@keyframes light-up-theme-color-four {
  0% { box-shadow: 0 1px 10px 5px var(--theme-color-four); }
  25% { box-shadow: 0 1px 15px 5px var(--theme-color-four); }
  50% { box-shadow: 0 1px 20px 5px var(--theme-color-four); }
  75% { box-shadow: 0 1px 25px 5px var(--theme-color-four); }
  100% { box-shadow: none; }
}
@keyframes light-up-theme-color-five {
  0% { box-shadow: 0 1px 10px 5px var(--theme-color-five); }
  25% { box-shadow: 0 1px 15px 5px var(--theme-color-five); }
  50% { box-shadow: 0 1px 20px 5px var(--theme-color-five); }
  75% { box-shadow: 0 1px 25px 5px var(--theme-color-five); }
  100% { box-shadow: none; }
}
@keyframes light-up-theme-color-six {
  0% { box-shadow: 0 1px 10px 5px var(--theme-color-six); }
  25% { box-shadow: 0 1px 15px 5px var(--theme-color-six); }
  50% { box-shadow: 0 1px 20px 5px var(--theme-color-six); }
  75% { box-shadow: 0 1px 25px 5px var(--theme-color-six); }
  100% { box-shadow: none; }
}
@keyframes light-up-theme-color-seven {
  0% { box-shadow: 0 1px 10px 5px var(--theme-color-seven); }
  25% { box-shadow: 0 1px 15px 5px var(--theme-color-seven); }
  50% { box-shadow: 0 1px 20px 5px var(--theme-color-seven); }
  75% { box-shadow: 0 1px 25px 5px var(--theme-color-seven); }
  100% { box-shadow: none; }
}
@keyframes light-up-theme-color-eight {
  0% { box-shadow: 0 1px 10px 5px var(--theme-color-eight); }
  25% { box-shadow: 0 1px 15px 5px var(--theme-color-eight); }
  50% { box-shadow: 0 1px 20px 5px var(--theme-color-eight); }
  75% { box-shadow: 0 1px 25px 5px var(--theme-color-eight); }
  100% { box-shadow: none; }
}


.lights-wrap {
  width: 100%;
  padding: 40px 0 10px;
  pointer-events: none;
  z-index: 50;
  display: flex;
  justify-content: center;
}

.lights-wrap.is-fixed {
  position: fixed;
  top: 0;
  left: 0;
}

.light-bulbs {
  --bulb-size: 28px;
  --edge-inset: clamp(14px, 4vw, 48px);
  --wire-extra: clamp(6px, 1vw, 14px);
  --bulb-count: var(--strand-count, 12);
  --segments: max(1, calc(var(--bulb-count) - 1));
  --available-width: max(0px, calc(100% - (2 * var(--edge-inset))));
  --wire-gap-base: max(0px, calc((var(--available-width) - (var(--bulb-count) * var(--bulb-size))) / var(--segments)));
  --wire-gap: calc(var(--wire-gap-base) + var(--wire-extra));
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  width: 100%;
  margin: 0;
  padding: 12px var(--edge-inset) 0;
  box-sizing: border-box;
  position: relative;
}

.light-bulb {
  width: var(--bulb-size, 28px);
  height: var(--bulb-size, 28px);
  position: relative;
  flex: 0 0 var(--bulb-size, 28px);
}

.light-bulb::before {
  content: "";
  position: absolute;
  border: 2px solid #222;
  width: calc(var(--bulb-size, 28px) * 0.35);
  height: calc(var(--bulb-size, 28px) * 0.45);
  background: #222;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
  left: 32%;
  top: calc(-0.5 * var(--bulb-size, 28px));
  z-index: 3;
}

.bulb-ball {
  position: absolute;
  z-index: 1;
  left: 0;
  top: 0;

  width: var(--bulb-size, 28px);
  height: var(--bulb-size, 28px);
  border-radius: 50%;

  transform: translateY(-2px);

  animation-duration: 2.5s;
  animation-iteration-count: infinite;

  animation-delay: var(--delay, 0s);

}

.light-bulb::after {
  content: "";
  position: absolute;
  top: -22px;
  left: 50%;
  width: clamp(28px, 8.5vw, 250px); /*test on monitor - max 250px*/
  height: clamp(16px, 2.2vw, 28px);
  border-bottom: 4px solid #222;
  border-radius: 50%;
  z-index: -1;
}

.light-bulb:last-of-type::after {
  border: none;
}

.light-bulb.theme-color-one .bulb-ball { background: var(--theme-color-one); animation-name: light-up-theme-color-one; }
.light-bulb.theme-color-two .bulb-ball { background: var(--theme-color-two); animation-name: light-up-theme-color-two; }
.light-bulb.theme-color-three .bulb-ball { background: var(--theme-color-three); animation-name: light-up-theme-color-three; }
.light-bulb.theme-color-four .bulb-ball { background: var(--theme-color-four); animation-name: light-up-theme-color-four; }
.light-bulb.theme-color-five .bulb-ball { background: var(--theme-color-five); animation-name: light-up-theme-color-five; }
.light-bulb.theme-color-six .bulb-ball { background: var(--theme-color-six); animation-name: light-up-theme-color-six; }
.light-bulb.theme-color-seven .bulb-ball { background: var(--theme-color-seven); animation-name: light-up-theme-color-seven; }
.light-bulb.theme-color-eight .bulb-ball { background: var(--theme-color-eight); animation-name: light-up-theme-color-eight; }


@media (max-width: 420px) {
  .lights-wrap { padding: 10px 0 4px; }
}

